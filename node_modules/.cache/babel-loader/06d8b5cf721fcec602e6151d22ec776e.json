{"ast":null,"code":"import { userService } from \"../../Services\";\nimport { createAction } from \".\";\nimport { FETCH_CREDENTIALS } from \"./type\";\nimport { notify } from \"../../Services/notify/Notify\";\nexport const fetchCredentials = user => {\n  return dispatch => {\n    userService.logIn(user).then(res => {\n      dispatch(createAction(FETCH_CREDENTIALS, res.data));\n      localStorage.setItem('credentials', JSON.stringify(res.data)); //gửi taikhoan lên localstore \n\n      let user = JSON.parse(localStorage.getItem('credentials')); // console.log(user);\n\n      if (user.maLoaiNguoiDung === \"HV\") {\n        this.props.history.push('./');\n      }\n\n      if (user.maLoaiNguoiDung === \"GV\") {\n        this.props.history.push('./admin');\n      }\n\n      notify('success', 'ĐĂNG NHẬP THÀNH CÔNG');\n    }).catch(err => {\n      console.log(err);\n      notify('error', 'ĐĂNG NHẬP THẤT BẠI');\n    });\n  };\n};","map":{"version":3,"sources":["c:/Users/QUOCNGU/Desktop/ProjectReact Final/reactfinal/src/Redux/Action/user.js"],"names":["userService","createAction","FETCH_CREDENTIALS","notify","fetchCredentials","user","dispatch","logIn","then","res","data","localStorage","setItem","JSON","stringify","parse","getItem","maLoaiNguoiDung","props","history","push","catch","err","console","log"],"mappings":"AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,SAASC,YAAT,QAA6B,GAA7B;AACA,SAASC,iBAAT,QAAkC,QAAlC;AACA,SAASC,MAAT,QAAuB,8BAAvB;AAEA,OAAO,MAAMC,gBAAgB,GAACC,IAAI,IAAE;AAChC,SAAOC,QAAQ,IAAE;AACbN,IAAAA,WAAW,CAACO,KAAZ,CAAkBF,IAAlB,EACCG,IADD,CACMC,GAAG,IAAE;AACPH,MAAAA,QAAQ,CAACL,YAAY,CAACC,iBAAD,EAAmBO,GAAG,CAACC,IAAvB,CAAb,CAAR;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAmCC,IAAI,CAACC,SAAL,CAAeL,GAAG,CAACC,IAAnB,CAAnC,EAFO,CAEqD;;AAC5D,UAAIL,IAAI,GAAGQ,IAAI,CAACE,KAAL,CAAWJ,YAAY,CAACK,OAAb,CAAqB,aAArB,CAAX,CAAX,CAHO,CAIP;;AACA,UAAIX,IAAI,CAACY,eAAL,KAAyB,IAA7B,EAAmC;AAC/B,aAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,IAAxB;AACH;;AACD,UAAIf,IAAI,CAACY,eAAL,KAAyB,IAA7B,EAAmC;AAC/B,aAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AAEH;;AACDjB,MAAAA,MAAM,CAAC,SAAD,EAAW,sBAAX,CAAN;AACH,KAdD,EAeCkB,KAfD,CAeOC,GAAG,IAAE;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAnB,MAAAA,MAAM,CAAC,OAAD,EAAS,oBAAT,CAAN;AACH,KAlBD;AAmBH,GApBD;AAqBH,CAtBM","sourcesContent":["import { userService } from \"../../Services\"\r\nimport { createAction } from \".\"\r\nimport { FETCH_CREDENTIALS } from \"./type\"\r\nimport { notify } from \"../../Services/notify/Notify\"\r\n\r\nexport const fetchCredentials=user=>{\r\n    return dispatch=>{\r\n        userService.logIn(user)\r\n        .then(res=>{\r\n            dispatch(createAction(FETCH_CREDENTIALS,res.data))\r\n            localStorage.setItem('credentials',JSON.stringify(res.data))//gửi taikhoan lên localstore \r\n            let user = JSON.parse(localStorage.getItem('credentials'));\r\n            // console.log(user);\r\n            if (user.maLoaiNguoiDung === \"HV\") {\r\n                this.props.history.push('./');\r\n            }\r\n            if (user.maLoaiNguoiDung === \"GV\") {\r\n                this.props.history.push('./admin');\r\n                \r\n            }       \r\n            notify('success','ĐĂNG NHẬP THÀNH CÔNG')\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);  \r\n            notify('error','ĐĂNG NHẬP THẤT BẠI')        \r\n        })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}